# ARLIB 系統規格書

## 1. 基本資料

* **系統名稱**：ARLIB (應收帳款系統)
* **系統環境**：AS/400
* **開發語言**：RPG/400, CL/400, DDS
* **作業系統**：OS/400
* **主要功能**：管理應收帳款、收款處理、開立發票等財務作業

## 2. 系統架構

ARLIB系統主要由以下幾個部分組成：

1. **實體檔案 (Physical File, PF)**：
   - 用於儲存應收帳款資料的主要資料檔
   - 包括客戶資料、發票資料、收款資料等基本資料表
   - 檔案命名通常以AR開頭

2. **邏輯檔案 (Logical File, LF)**：
   - 基於實體檔案的邏輯存取路徑
   - 提供不同的排序和檢索方式
   - 通常有L1、L2等後綴

3. **顯示檔案 (Display File, DSPF)**：
   - 定義使用者介面和螢幕格式
   - 提供資料輸入和顯示功能
   - 通常包含 S 或 SC 等字元

4. **印表檔案 (Printer File, PRTF)**：
   - 定義報表格式
   - 用於產生各種財務報表

5. **程式檔案**：
   - RPG程式：處理業務邏輯的主要程式
   - CL程式：控制程式流程和作業環境

## 3. 檔案架構與關聯圖

```
┌────────────────┐      ┌───────────────┐      ┌───────────────┐
│ 主檔           │      │ 交易檔        │      │ 報表檔        │
│ (客戶/資金等)  ├─────>│ (發票/收款等) ├─────>│ (各類財務報表)│
└────────────────┘      └───────────────┘      └───────────────┘
        ▲                       ▲                      ▲
        │                       │                      │
        │       ┌───────────────────────────┐          │
        └───────┤ 代碼檔 (銀行/類別/代號等) ├──────────┘
                └───────────────────────────┘
```

## 4. 系統檔案清單

系統包含多種檔案類型，主要可分為以下幾類：

### 4.1 主檔
- 客戶資料檔
- 資金代號檔
- 銀行資料檔
- 等級資料檔

### 4.2 交易檔
- 發票資料檔
- 收款資料檔
- 折讓資料檔
- 票據資料檔

### 4.3 工作檔
- 各種暫存工作檔
- 資料傳輸檔
- 界面檔

### 4.4 報表檔
- 各種財務報表檔案

## 5. 系統模組與功能說明

1. **基本資料維護**
   - 客戶資料維護
   - 銀行資料維護
   - 發票號碼管理

2. **發票管理**
   - 發票開立維護
   - 發票作廢
   - 折讓處理

3. **收款管理**
   - 收款處理
   - 票據管理
   - 沖銷作業

4. **帳款管理**
   - 帳款查詢
   - 帳齡分析
   - 對帳處理

5. **報表管理**
   - 財務報表
   - 對帳單列印
   - 統計分析報表

## 6. 作業流程

1. **開立發票流程**
   - 銷貨資料匯入
   - 發票開立
   - 發票稽核
   - 發票列印

2. **收款流程**
   - 客戶繳款
   - 票據登錄
   - 銷帳處理
   - 帳款更新

3. **票據處理流程**
   - 票據登錄
   - 票據託收
   - 票據兌現
   - 退票處理

## 7. 系統整合

ARLIB系統與其他系統的整合：

1. **銷售系統**：提供銷貨資料，用於開立發票
2. **總帳系統**：提供會計分錄，更新總帳
3. **客戶管理系統**：共享客戶資料

## 8. 備註

- 系統使用AS/400傳統固定格式RPG程式開發
- 檔案命名規則一般遵循AS/400命名慣例
- 多年來系統經過多次更新，部分程式有多個版本 